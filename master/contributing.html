<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing &mdash; weylchamber 505bab7 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" href="_static/mycss.css" type="text/css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=a0ab0c8a"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/docs-versions-menu.js?v=3d6a1aea"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Credits" href="authors.html" />
    <link rel="prev" title="The weylchamber package" href="readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            weylchamber
          </a>
              <div class="version">
                0.6.0+dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">The weylchamber package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#report-bugs">Report Bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submit-feedback">Submit Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fix-bugs-implement-features">Fix Bugs / Implement Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-documentation">Write Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#developers-how-to-s">Developers’ How-To’s</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-work-on-a-topic-branch">How to work on a topic branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commit-message-guidelines">Commit Message Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-reference-a-github-issue-in-a-commit-message">How to reference a Github issue in a commit message</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-run-a-jupyter-notebook-server-for-working-on-notebooks-in-the-docs">How to run a jupyter notebook server for working on notebooks in the docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-convert-a-notebook-to-a-script-for-easier-debugging">How to convert a notebook to a script for easier debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-commit-failing-tests-or-notebooks">How to commit failing tests or notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-run-a-subset-of-tests">How to run a subset of tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-run-only-as-single-test">How to run only as single test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-run-only-the-doctests">How to run only the doctests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-go-into-an-interactive-debugger">How to go into an interactive debugger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="API/weylchamber.html">API of the weylchamber package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">weylchamber</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          





















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Contributing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¶</a></h1>
<p>Contributions are welcome, and they are greatly appreciated! Every little bit
helps, and credit will always be given.</p>
<section id="report-bugs">
<h2>Report Bugs<a class="headerlink" href="#report-bugs" title="Link to this heading">¶</a></h2>
<p>Report bugs at <a class="reference external" href="https://github.com/qucontrol/weylchamber/issues">https://github.com/qucontrol/weylchamber/issues</a>.</p>
<p>If you are reporting a bug, please include:</p>
<ul class="simple">
<li><p>Your operating system name and version.</p></li>
<li><p>Any details about your local setup that might be helpful in troubleshooting.</p></li>
<li><p>Detailed steps to reproduce the bug.</p></li>
</ul>
</section>
<section id="submit-feedback">
<h2>Submit Feedback<a class="headerlink" href="#submit-feedback" title="Link to this heading">¶</a></h2>
<p>The best way to send feedback is to file an issue at <a class="reference external" href="https://github.com/qucontrol/weylchamber/issues">https://github.com/qucontrol/weylchamber/issues</a>.</p>
<p>If you are proposing a feature:</p>
<ul class="simple">
<li><p>Explain in detail how it would work.</p></li>
<li><p>Keep the scope as narrow as possible, to make it easier to implement.</p></li>
<li><p>Remember that this is a volunteer-driven project, and that contributions
are welcome :)</p></li>
</ul>
</section>
<section id="fix-bugs-implement-features">
<h2>Fix Bugs / Implement Features<a class="headerlink" href="#fix-bugs-implement-features" title="Link to this heading">¶</a></h2>
<p>Look through the GitHub issues for bugs or feature requests. Anybody is welcome to submit a pull request for open issues.</p>
</section>
<section id="pull-request-guidelines">
<h2>Pull Request Guidelines<a class="headerlink" href="#pull-request-guidelines" title="Link to this heading">¶</a></h2>
<p>Before you submit a pull request, check that it meets these guidelines:</p>
<ol class="arabic simple">
<li><p>The pull request should include tests.</p></li>
<li><p>If the pull request adds functionality, the docs should be updated. Put
your new functionality into a function with a docstring, and add the
feature to the list in README.rst.</p></li>
<li><p>Check <a class="reference external" href="https://travis-ci.org/qucontrol/weylchamber/pull_requests">https://travis-ci.org/qucontrol/weylchamber/pull_requests</a>
and make sure that the tests pass for all supported Python versions.</p></li>
</ol>
</section>
<section id="get-started">
<h2>Get Started!<a class="headerlink" href="#get-started" title="Link to this heading">¶</a></h2>
<p>Ready to contribute? Follow <a class="reference external" href="https://www.asmeurer.com/git-workflow/">Aaron Meurer’s Git Workflow Notes</a> (with <code class="docutils literal notranslate"><span class="pre">qucontrol/weylchamber</span></code> instead of <code class="docutils literal notranslate"><span class="pre">sympy/sympy</span></code>)</p>
<p>In short,</p>
<ol class="arabic simple">
<li><p>Clone the repository from <code class="docutils literal notranslate"><span class="pre">git&#64;github.com:qucontrol/weylchamber.git</span></code></p></li>
<li><p>Fork the repo on GitHub to your personal account.</p></li>
<li><p>Add your fork as a remote.</p></li>
<li><p>Pull in the latest changes from the master branch.</p></li>
<li><p>Create a topic branch</p></li>
<li><p>Make your changes and commit them (testing locally)</p></li>
<li><p>Push changes to the topic branch on <em>your</em> remote</p></li>
<li><p>Make a pull request against the base master branch through the Github website of your fork.</p></li>
</ol>
<p>The project contains a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> to help with development tasks. In your checked-out clone, do</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span><span class="nb">help</span>
</pre></div>
</div>
<p>to see the available make targets.</p>
<p>It is strongly recommended that you use the <a class="reference external" href="https://conda.io/docs/">conda</a> package manager. The
<code class="docutils literal notranslate"><span class="pre">Makefile</span></code> relies on conda to create local testing and documentation building
environments (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code>).</p>
<p>Alternatively, you may  use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">develop-test</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">develop-docs</span></code> to
run the tests or generate the documentation within your active Python
environment. You will have to ensure that all the necessary dependencies are
installed. Also, you will not be able to test the package against all supported
Python versions.
You still can (and should) look at <a class="reference external" href="https://travis-ci.org/qucontrol/weylchamber/">https://travis-ci.org/qucontrol/weylchamber/</a> to check that your commits pass all tests.</p>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">weylchamber</span></code> project includes a full test-suite using <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a>.
We strive for a <a class="reference external" href="https://coveralls.io/github/qucontrol/weylchamber?branch=master">test coverage</a> above 90%.</p>
<p>From a checkout of the <code class="docutils literal notranslate"><span class="pre">weylchamber</span></code> repository, assuming <a class="reference external" href="https://conda.io/docs/">conda</a> is installed, you can use</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
<p>to run the entire test suite.</p>
<p>The tests are organized in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> subfolder. It includes python scripts
whose name start with <code class="docutils literal notranslate"><span class="pre">test_</span></code>, which contain functions whose names also start
with <code class="docutils literal notranslate"><span class="pre">test_</span></code>. Any such functions in any such files are picked up by <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a>
for testing. In addition, <a class="reference external" href="https://docs.python.org/3.7/library/doctest.html">doctests</a> from any docstring or any documentation
file (<code class="docutils literal notranslate"><span class="pre">*.rst</span></code>) are picked up (by the <a class="reference external" href="https://docs.pytest.org/en/latest/doctest.html">pytest doctest plugin</a>).
Lastly, all Jupyter notebooks in the documentation are validated as a test,
through the <a class="reference external" href="https://nbval.readthedocs.io/en/latest/">nbval plugin</a>.</p>
</section>
<section id="write-documentation">
<span id="id1"></span><h2>Write Documentation<a class="headerlink" href="#write-documentation" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">weylchamber</span></code> package could always use more documentation, whether
as part of the official docs, in docstrings, or even on the web in blog posts,
articles, and such.</p>
<p>The package documentation is generated with <a class="reference external" href="http://www.sphinx-doc.org/en/master/">Sphinx</a>, the
documentation (and docstrings) are formatted using the
<a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">Restructured Text markup language</a> (file extension <code class="docutils literal notranslate"><span class="pre">rst</span></code>).
See also the <a class="reference external" href="https://matplotlib.org/sampledoc/cheatsheet.html">Matplotlib Sphinx Sheet sheet</a> for some helpful tips.</p>
<p>Each function or class must have a <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">docstring</a>; this docstring must
be written in the <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/extensions/example_google.html#example-google">“Google Style” format</a> (as implemented by
Sphinx’ <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/extensions/napoleon.html">napoleon extension</a>). Docstrings and any other part of the
documentation can include <a class="reference external" href="http://www.sphinx-doc.org/en/1.6/ext/math.html">mathematical formulas in LaTeX syntax</a>
(using <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/extensions/math.html#module-sphinx.ext.mathjax">mathjax</a>).</p>
<p>At any point, from a checkout of the <code class="docutils literal notranslate"><span class="pre">weylchamber</span></code> repository (and
assuming you have <a class="reference external" href="https://conda.io/docs/">conda</a> installed), you may run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span>docs
</pre></div>
</div>
<p>to generate the documentation locally.</p>
</section>
<section id="developers-how-to-s">
<h2>Developers’ How-To’s<a class="headerlink" href="#developers-how-to-s" title="Link to this heading">¶</a></h2>
<p>The following assumes your current working directory is a checkout of
<code class="docutils literal notranslate"><span class="pre">weylchamber</span></code>, and that you have successfully run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> (which creates
some local virtual environments that development relies on).</p>
<section id="how-to-work-on-a-topic-branch">
<span id="id2"></span><h3>How to work on a topic branch<a class="headerlink" href="#how-to-work-on-a-topic-branch" title="Link to this heading">¶</a></h3>
<p>When working on an non-trivial issue, it is recommended to create a topic
branch, instead of pushing to <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<p>To create a branch named <code class="docutils literal notranslate"><span class="pre">issue18</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>issue18
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>issue18
</pre></div>
</div>
<p>You can then make commits, and push them to Github to trigger Continuous Integration testing:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>issue18
</pre></div>
</div>
<p>It is ok to force-push on an issue branch</p>
<p>When you are done (the issue has been fixed), finish up by merging the topic
branch back into <code class="docutils literal notranslate"><span class="pre">master</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>issue18
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--no-ff</span></code> option is critical, so that an explicit merge commit is created.
Summarize the changes of the branch relative to <code class="docutils literal notranslate"><span class="pre">master</span></code> in the commit
message.</p>
<p>Then, you can push master and delete the topic branch both locally and on Github:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--delete<span class="w"> </span>origin<span class="w"> </span>issue18
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-D<span class="w"> </span>issue18
</pre></div>
</div>
</section>
<section id="commit-message-guidelines">
<h3>Commit Message Guidelines<a class="headerlink" href="#commit-message-guidelines" title="Link to this heading">¶</a></h3>
<p>Write commit messages according to this template:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Short<span class="w"> </span><span class="o">(</span><span class="m">50</span><span class="w"> </span>chars<span class="w"> </span>or<span class="w"> </span>less<span class="o">)</span><span class="w"> </span>summary

More<span class="w"> </span>detailed<span class="w"> </span>explanatory<span class="w"> </span>text.<span class="w"> </span>Wrap<span class="w"> </span>it<span class="w"> </span>to<span class="w"> </span><span class="m">72</span><span class="w"> </span>characters.<span class="w"> </span>The<span class="w"> </span>blank
line<span class="w"> </span>separating<span class="w"> </span>the<span class="w"> </span>summary<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>body<span class="w"> </span>is<span class="w"> </span>critical<span class="w"> </span><span class="o">(</span>unless<span class="w"> </span>you<span class="w"> </span>omit
the<span class="w"> </span>body<span class="w"> </span>entirely<span class="o">)</span>.

Write<span class="w"> </span>your<span class="w"> </span>commit<span class="w"> </span>message<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>imperative:<span class="w"> </span><span class="s2">&quot;Fix bug&quot;</span><span class="w"> </span>and<span class="w"> </span>not<span class="w"> </span><span class="s2">&quot;Fixed</span>
<span class="s2">bug&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;Fixes bug.&quot;</span><span class="w"> </span>This<span class="w"> </span>convention<span class="w"> </span>matches<span class="w"> </span>up<span class="w"> </span>with<span class="w"> </span>commit<span class="w"> </span>messages
generated<span class="w"> </span>by<span class="w"> </span>commands<span class="w"> </span>like<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>and<span class="w"> </span>git<span class="w"> </span>revert.

Further<span class="w"> </span>paragraphs<span class="w"> </span>come<span class="w"> </span>after<span class="w"> </span>blank<span class="w"> </span>lines.

-<span class="w"> </span>Bullet<span class="w"> </span>points<span class="w"> </span>are<span class="w"> </span>okay,<span class="w"> </span>too.
-<span class="w"> </span>Typically<span class="w"> </span>a<span class="w"> </span>hyphen<span class="w"> </span>or<span class="w"> </span>asterisk<span class="w"> </span>is<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>bullet,<span class="w"> </span>followed<span class="w"> </span>by<span class="w"> </span>a
<span class="w">  </span>single<span class="w"> </span>space.<span class="w"> </span>Use<span class="w"> </span>a<span class="w"> </span>hanging<span class="w"> </span>indent.
</pre></div>
</div>
<p>A properly formed git commit subject line should always be able to complete the
sentence “If applied, this commit will &lt;your subject line here&gt;”.</p>
</section>
<section id="how-to-reference-a-github-issue-in-a-commit-message">
<h3>How to reference a Github issue in a commit message<a class="headerlink" href="#how-to-reference-a-github-issue-in-a-commit-message" title="Link to this heading">¶</a></h3>
<p>Simply put e.g. <code class="docutils literal notranslate"><span class="pre">#14</span></code> anywhere in your commit message, and Github will
automatically link to your commit on the page for issue number 14.</p>
<p>You may also use something like <code class="docutils literal notranslate"><span class="pre">Closes</span> <span class="pre">#14</span></code> as the last line of your
commit message to automatically close the issue.
See <a class="reference external" href="https://help.github.com/articles/closing-issues-using-keywords/">Closing issues using keywords</a> for details.</p>
</section>
<section id="how-to-run-a-jupyter-notebook-server-for-working-on-notebooks-in-the-docs">
<h3>How to run a jupyter notebook server for working on notebooks in the docs<a class="headerlink" href="#how-to-run-a-jupyter-notebook-server-for-working-on-notebooks-in-the-docs" title="Link to this heading">¶</a></h3>
<p>A notebook server that is isolated to the proper testing environment can be started via the Makefile:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>jupter-notebook
</pre></div>
</div>
<p>This is equivalent to:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>.venv/py36/bin/jupyter<span class="w"> </span>notebook<span class="w"> </span>--config<span class="o">=</span>/dev/null
</pre></div>
</div>
<p>You may run this with your own options, if you prefer. The
<code class="docutils literal notranslate"><span class="pre">--config=/dev/null</span></code> guarantees that the notebook server is completely
isolated. Otherwise, configuration files from your home directly (see
<a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/config_overview.html#jupyter-s-common-configuration-system">Jupyter’s Common Configuration system</a>)  may influence the server. Of
course, if you know what you’re doing, you may want this.</p>
<p>If you prefer, you may also use the newer jupyterlab:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>jupter-lab
</pre></div>
</div>
</section>
<section id="how-to-convert-a-notebook-to-a-script-for-easier-debugging">
<h3>How to convert a notebook to a script for easier debugging<a class="headerlink" href="#how-to-convert-a-notebook-to-a-script-for-easier-debugging" title="Link to this heading">¶</a></h3>
<p>Interactive debugging in notebooks is difficult. It becomes much easier if
you convert the notebook to a script first.  To convert a notebook to an
(I)Python script and run it with automatic debugging, execute e.g.:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>.venv/py36/bin/jupyter<span class="w"> </span>nbconvert<span class="w"> </span>--to<span class="o">=</span>python<span class="w"> </span>--stdout<span class="w"> </span>docs/tutorial.ipynb<span class="w"> </span>&gt;<span class="w"> </span>debug.py
$<span class="w"> </span>.venv/py36/bin/ipython<span class="w"> </span>--pdb<span class="w"> </span>debug.py
</pre></div>
</div>
<p>You can then also set a manual breakpoint by inserting the following line anywhere in the code:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>IPython.terminal.debugger<span class="w"> </span>import<span class="w"> </span>set_trace<span class="p">;</span><span class="w"> </span>set_trace<span class="o">()</span><span class="w"> </span><span class="c1"># DEBUG</span>
</pre></div>
</div>
</section>
<section id="how-to-commit-failing-tests-or-notebooks">
<h3>How to commit failing tests or notebooks<a class="headerlink" href="#how-to-commit-failing-tests-or-notebooks" title="Link to this heading">¶</a></h3>
<p>The test-suite on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch should always pass without error. If you
would like to commit any example notebooks or tests that currently fail, as a
form of <a class="reference external" href="https://en.wikipedia.org/wiki/Test-driven_development">test-driven development</a>, you have two options:</p>
<ul>
<li><p>Push onto a topic branch (which are allowed to have failing tests), see
<a class="reference internal" href="#how-to-work-on-a-topic-branch"><span class="std std-ref">How to work on a topic branch</span></a>. The failing tests can then be fixed by
adding commits to the same branch.</p></li>
<li><p>Mark the test as failing. For normal tests, add a decorator:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>@pytest.mark.xfail
</pre></div>
</div>
<p>See the <a class="reference external" href="https://docs.pytest.org/en/latest/skipping.html">pytest documentation on skip and xfail</a> for details.</p>
<p>For notebooks, the equivalent to the decorator is to add a comment to the
first line of the failing cell, either:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># NBVAL_RAISES_EXCEPTION</span>
</pre></div>
</div>
<p>(preferably), or:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># NBVAL_SKIP</span>
</pre></div>
</div>
<p>(this may affect subsequent cells, as the marked cell is not executed at all).
See the <a class="reference external" href="https://nbval.readthedocs.io/en/latest/#Skipping-specific-cells">documentation of the nbval pluging on skipping and exceptions</a> for details.</p>
</li>
</ul>
</section>
<section id="how-to-run-a-subset-of-tests">
<h3>How to run a subset of tests<a class="headerlink" href="#how-to-run-a-subset-of-tests" title="Link to this heading">¶</a></h3>
<p>To run e.g. only the tests defined in <code class="docutils literal notranslate"><span class="pre">tests/test_weylchamber.py</span></code>, use:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./.venv/py36/bin/pytest<span class="w"> </span>tests/test_weylchamber.py
</pre></div>
</div>
<p>See the <a class="reference external" href="https://docs.pytest.org/en/latest/usage.html#specifying-tests-selecting-tests">pytest test selection docs</a> for details.</p>
</section>
<section id="how-to-run-only-as-single-test">
<h3>How to run only as single test<a class="headerlink" href="#how-to-run-only-as-single-test" title="Link to this heading">¶</a></h3>
<p>Decorate the test with e.g. <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.xxx</span></code>, and then run, e.g:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./.venv/py36/bin/pytest<span class="w"> </span>-m<span class="w"> </span>xxx<span class="w"> </span>tests/
</pre></div>
</div>
<p>See the <a class="reference external" href="https://docs.pytest.org/en/latest/example/markers.html">pytest documentation on markers</a> for details.</p>
</section>
<section id="how-to-run-only-the-doctests">
<h3>How to run only the doctests<a class="headerlink" href="#how-to-run-only-the-doctests" title="Link to this heading">¶</a></h3>
<p>Run the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./.venv/py36/bin/pytest<span class="w"> </span>--doctest-modules<span class="w"> </span>src
</pre></div>
</div>
</section>
<section id="how-to-go-into-an-interactive-debugger">
<h3>How to go into an interactive debugger<a class="headerlink" href="#how-to-go-into-an-interactive-debugger" title="Link to this heading">¶</a></h3>
<p>Optionally, install the <cite>pdbpp</cite> package into the testing environment, for a
better experience:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./.venv/py36/bin/python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pdbpp
</pre></div>
</div>
<p>Then:</p>
<ul>
<li><p>before the line where you went to enter the debugger, insert a line:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>IPython.terminal.debugger<span class="w"> </span>import<span class="w"> </span>set_trace<span class="p">;</span><span class="w"> </span>set_trace<span class="o">()</span><span class="w"> </span><span class="c1"># DEBUG</span>
</pre></div>
</div>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> with the option <code class="docutils literal notranslate"><span class="pre">-s</span></code>, e.g.:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./.venv/py36/bin/pytest<span class="w"> </span>-m<span class="w"> </span>xxx<span class="w"> </span>-s<span class="w"> </span>tests/
</pre></div>
</div>
</li>
</ul>
<p>You may also see the <a class="reference external" href="https://docs.pytest.org/en/latest/usage.html#dropping-to-pdb-python-debugger-on-failures">pytest documentation on automatic debugging</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="readme.html" class="btn btn-neutral float-left" title="The weylchamber package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="authors.html" class="btn btn-neutral float-right" title="Credits" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Michael Goerz.
      <span class="lastupdated">Last updated on Jun 04, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>